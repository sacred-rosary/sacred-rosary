<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Prevent caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>The Sacred Rosary</title>
    
    <!-- Custom fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css?v=1.1">
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.164.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/"
            }
        }
    </script>
    
    <!-- App Configuration and Data -->
    <script src="js/config.js?v=1.1"></script>
    <script src="js/prayers-en.js?v=1.1"></script>
    <script src="js/prayers-es.js?v=1.1"></script>
    
    <!-- Main app script with version parameter to prevent caching -->
    <script defer src="js/app.js?v=1.1"></script>
</head>
<body>
    <!-- Loading overlay -->
    <div class="loading-overlay">
        <div class="loading-container">
            <div class="loading-icon">
                <div class="loading-circle"></div>
                <div class="loading-circle"></div>
                <div class="loading-circle"></div>
            </div>
            <div class="loading-text">Loading The Sacred Rosary</div>
            <div class="loading-progress">
                <div class="loading-bar"></div>
            </div>
        </div>
    </div>

    <!-- Mourning announcement (hidden by default) -->
    <div id="mourning-announcement" class="mourning-announcement">
        <div class="mourning-content">
            <h2>In Memoriam</h2>
            <p id="mourning-message">We are in a period of mourning.</p>
            <button id="mourning-close-btn" class="mourning-close-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Updated Settings Menu (Replace the entire settings panel in index.html) -->
<div id="settings-panel" class="settings-panel">
    <div class="settings-header">
        <h2>Settings</h2>
        <button id="settings-close-btn" class="settings-close-btn">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="settings-content">
        <div class="settings-section">
            <h3>Display</h3>
            <div class="setting-item">
                <label for="theme-select">Theme</label>
                <select id="theme-select">
                    <option value="default">Default</option>
                    <option value="dark">Dark</option>
                    <option value="light">Light</option>
                    <option value="sepia">Sepia</option>
                </select>
            </div>
        </div>
        
        <div class="settings-section">
            <h3>Audio</h3>
            <div class="setting-item">
                <label for="bg-music-toggle">Background Music</label>
                <div class="toggle-container">
                    <label class="switch">
                        <input type="checkbox" id="bg-music-toggle" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div class="setting-item">
                <label for="bg-music-volume">Music Volume</label>
                <div class="range-with-value">
                    <input type="range" id="bg-music-volume" min="0" max="100" value="30">
                    <span id="bg-music-volume-value">30%</span>
                </div>
            </div>
            <div class="setting-item">
                <label for="effects-toggle">Sound Effects</label>
                <div class="toggle-container">
                    <label class="switch">
                        <input type="checkbox" id="effects-toggle" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="settings-section">
            <h3>Prayer Experience</h3>
            <div class="setting-item">
                <label for="meditation-duration">Meditation Duration</label>
                <select id="meditation-duration">
                    <option value="none">None</option>
                    <option value="short" selected>Short</option>
                    <option value="medium">Medium</option>
                    <option value="long">Long</option>
                </select>
            </div>
        </div>
        
        <div class="settings-actions">
            <button id="settings-save-btn" class="settings-save-btn">Save Settings</button>
            <button id="settings-reset-btn" class="settings-reset-btn">Reset to Default</button>
        </div>
    </div>
</div>

    <!-- Application container -->
    <div class="app-container">
        <!-- Background effects -->
        <div class="background-effects">
            <div class="gradient-bg"></div>
            <div class="particles-container"></div>
            <div class="vignette"></div>
            <div class="candle-overlay"></div>
            <div class="light-rays"></div>
        </div>

        <!-- Landing page -->
        <div class="landing-page">
            <div class="landing-content">
                <svg class="app-logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="#D2B48C" stroke-width="2" />
                    <path d="M50,10 L50,90" stroke="#D2B48C" stroke-width="2" />
                    <path d="M30,30 L70,30" stroke="#D2B48C" stroke-width="2" />
                    <path d="M20,50 L80,50" stroke="#D2B48C" stroke-width="2" />
                    <path d="M30,70 L70,70" stroke="#D2B48C" stroke-width="2" />
                    <circle cx="50" cy="50" r="5" fill="#D2B48C" />
                </svg>
                <h1 class="app-title">THE SACRED ROSARY</h1>
                <p class="app-subtitle">A contemplative journey through prayer and meditation</p>
                
                <div class="language-selection">
                    <h2 class="language-selection-label">Select Language</h2>
                    <div class="language-buttons">
                        <button class="language-btn active" data-language="en">English</button>
                        <button class="language-btn" data-language="es">Espa√±ol</button>
                        <button class="language-btn disabled" data-language="la">Latin <span class="coming-soon">(Coming Soon)</span></button>
                    </div>
                </div>
                
                <div class="rosary-selection">
                    <h2 class="rosary-selection-label">Select Mysteries</h2>
                    <div class="mystery-selection">
                        <button class="mystery-btn active" data-mystery="joyful">Joyful Mysteries</button>
                        <button class="mystery-btn" data-mystery="sorrowful">Sorrowful Mysteries</button>
                        <button class="mystery-btn" data-mystery="glorious">Glorious Mysteries</button>
                        <button class="mystery-btn" data-mystery="luminous">Luminous Mysteries</button>
                    </div>
                </div>
                
                <button class="start-btn">
                    <i class="fas fa-pray"></i> Begin Prayer
                </button>
                
            </div>
        </div>

        <!-- Main content -->
        <div class="main-content">
            <!-- Prayer section -->
            <div class="prayer-section">
                <div class="prayer-backdrop"></div>
                <div class="prayer-scroll">
                    <div class="prayer-header">
                        <h2 class="prayer-title">The Sign of the Cross</h2>
                    </div>
                    <p class="prayer-instructions">Begin by making the Sign of the Cross</p>
                    <div class="prayer-text">
                        <p>In the name of the Father, and of the Son, and of the Holy Spirit. Amen.</p>
                    </div>
                    
                    <div class="rosary-progress">
                        <h3 class="progress-title">Opening Prayers</h3>
                        
                        <!-- Simplified progress indicator -->
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill"></div>
                            </div>
                            <div class="progress-text">Prayer 1 of 61</div>
                        </div>
                        
                        <!-- Visual prayer reminder -->
                        <div class="current-prayer-type">
                            <span class="prayer-icon"><i class="fas fa-cross"></i></span>
                            <span class="prayer-name">Sign of the Cross</span>
                        </div>
                    </div>
                </div>
                
                <div class="prayer-controls">
                    <button class="prayer-btn prev-btn">
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <button class="prayer-btn play-btn">
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button class="prayer-btn next-btn">
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Right side section (placeholder for future content) -->
            <div class="visual-section">
                <div class="placeholder-content">
                    <div class="mystery-info">
                        <h3 class="mystery-title">The Annunciation</h3>
                        <p class="mystery-description">The Angel Gabriel announces to Mary that she is to be the Mother of God.</p>
                        <p class="mystery-fruits">Fruit of the Mystery: Humility</p>
                    </div>
                </div>
                
                <!-- Settings button (visible in prayer mode) -->
                <button id="prayer-settings-btn" class="prayer-settings-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </div>
        
        <!-- Notification -->
        <div class="notification">
            <div class="notification-header">
                <span class="notification-title">Notification Title</span>
                <button class="notification-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p class="notification-message">Notification message goes here.</p>
        </div>
    </div>
</body>
</html>
